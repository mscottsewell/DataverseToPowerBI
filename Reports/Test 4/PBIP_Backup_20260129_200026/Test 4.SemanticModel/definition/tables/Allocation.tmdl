/// Source: cai_allocation
table Allocation
	lineageTag: 98ba16cb-789c-4f0e-8b00-242d814d9932

	/// cai_allocationpercentageotherareas
	column '% Allocated - Other Areas'
		dataType: int64
		formatString: 0
		sourceProviderType: int
		lineageTag: f8fd723d-ad2e-4f98-985c-453ef667983e
		summarizeBy: sum
		sourceColumn: cai_allocationpercentageotherareas

		annotation SummarizationSetBy = Automatic

	/// cai_allocationpercentage
	column '% Allocation'
		dataType: int64
		formatString: 0
		sourceProviderType: int
		lineageTag: 554ea908-0fc8-479b-9bb6-59a2d4ac50f0
		summarizeBy: sum
		sourceColumn: cai_allocationpercentage

		annotation SummarizationSetBy = Automatic

	/// cai_allocationid
	column cai_allocationid
		dataType: string
		sourceProviderType: uniqueidentifier
		isHidden
		isKey
		lineageTag: ebeb7650-6138-4f6b-be44-aa3aa07a5f6f
		summarizeBy: none
		sourceColumn: cai_allocationid

		annotation SummarizationSetBy = Automatic

	/// cai_name
	column 'Allocation Name'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 90ac15b5-2a90-4454-b4af-6b507312a4ab
		isDefaultLabel
		summarizeBy: none
		sourceColumn: cai_name

		annotation SummarizationSetBy = Automatic

	/// cai_costcenter
	column 'Cost Center'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 9e57b88a-8e5b-44c7-9d66-254460d395b0
		summarizeBy: none
		sourceColumn: cai_costcenter

		annotation SummarizationSetBy = Automatic

	/// cai_alias
	column 'Employee Alias'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: d03301bb-a56d-43b0-bfbf-d94ffb8a01b6
		summarizeBy: none
		sourceColumn: cai_alias

		annotation SummarizationSetBy = Automatic

	/// cai_employeename
	column 'Employee Name'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: de5c1bec-00ed-4d4b-a2c8-6814b7757e54
		summarizeBy: none
		sourceColumn: cai_employeename

		annotation SummarizationSetBy = Automatic

	/// cai_level
	column 'Hierarchy Level'
		dataType: int64
		formatString: 0
		sourceProviderType: int
		lineageTag: 112123ab-9fe5-4a89-aa47-cdaea2a10523
		summarizeBy: sum
		sourceColumn: cai_level

		annotation SummarizationSetBy = Automatic

	/// cai_level_1
	column 'Hierarchy Level 1'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 53b74a55-fea3-4aa6-a5d4-a4ee4324ac9e
		summarizeBy: none
		sourceColumn: cai_level_1

		annotation SummarizationSetBy = Automatic

	/// cai_level_2
	column 'Hierarchy Level 2'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 0bc4912b-e346-407e-96a9-3faa92633330
		summarizeBy: none
		sourceColumn: cai_level_2

		annotation SummarizationSetBy = Automatic

	/// cai_level_3
	column 'Hierarchy Level 3'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: f57fbedc-4089-46b5-a360-7da4a5320f3b
		summarizeBy: none
		sourceColumn: cai_level_3

		annotation SummarizationSetBy = Automatic

	/// cai_level_4
	column 'Hierarchy Level 4'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: a4469666-057e-4d09-a1b2-74662b057ed7
		summarizeBy: none
		sourceColumn: cai_level_4

		annotation SummarizationSetBy = Automatic

	/// cai_level_5
	column 'Hierarchy Level 5'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: c758126e-31ef-4580-9270-411e8d0a07a9
		summarizeBy: none
		sourceColumn: cai_level_5

		annotation SummarizationSetBy = Automatic

	/// cai_level_6
	column 'Hierarchy Level 6'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 23872f30-fbfd-4206-810d-0092c52e6282
		summarizeBy: none
		sourceColumn: cai_level_6

		annotation SummarizationSetBy = Automatic

	/// cai_level_7
	column 'Hierarchy Level 7'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 06793695-912b-405f-bb8e-6d841619a1a2
		summarizeBy: none
		sourceColumn: cai_level_7

		annotation SummarizationSetBy = Automatic

	/// cai_level_8
	column 'Hierarchy Level 8'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: b5fe84d5-2e83-4cb4-a172-0e4c3b76453c
		summarizeBy: none
		sourceColumn: cai_level_8

		annotation SummarizationSetBy = Automatic

	/// cai_level_9
	column 'Hierarchy Level 9'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 497ffdde-daed-47cc-9122-f11fe8f66c42
		summarizeBy: none
		sourceColumn: cai_level_9

		annotation SummarizationSetBy = Automatic

	/// cai_manager_systemuserid
	column cai_manager_systemuserid
		dataType: string
		sourceProviderType: uniqueidentifier
		isHidden
		lineageTag: 0955d17c-6e05-4d20-8fd0-f0dbd4962d61
		summarizeBy: none
		sourceColumn: cai_manager_systemuserid

		annotation SummarizationSetBy = Automatic

	/// cai_manager_systemuseridname
	column Manager
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: ae3f1687-cbfa-4da1-b36d-cb6575b6f013
		summarizeBy: none
		sourceColumn: cai_manager_systemuseridname

		annotation SummarizationSetBy = Automatic

	/// cai_managerapprovalstatusname
	column 'Manager Approval Status'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 19129b38-279c-4abb-bd98-a1ed611ba3a2
		summarizeBy: none
		sourceColumn: cai_managerapprovalstatusname

		annotation SummarizationSetBy = Automatic

	/// cai_managerreviewcompletedbyid
	column cai_managerreviewcompletedbyid
		dataType: string
		sourceProviderType: uniqueidentifier
		isHidden
		lineageTag: 9082742a-d801-4f7e-8fa8-89d9fded30f8
		summarizeBy: none
		sourceColumn: cai_managerreviewcompletedbyid

		annotation SummarizationSetBy = Automatic

	/// cai_managerreviewcompletedbyidname
	column 'Manager Review Completed By'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: b6f6f887-3a0b-44de-bcc5-598127a5e5f3
		summarizeBy: none
		sourceColumn: cai_managerreviewcompletedbyidname

		annotation SummarizationSetBy = Automatic

	/// cai_managerreviewdate
	column 'Manager Review Date'
		dataType: dateTime
		formatString: Short Date
		sourceProviderType: datetime2
		lineageTag: ffa74bb8-7b98-4749-85f0-a22354c71843
		summarizeBy: none
		sourceColumn: cai_managerreviewdate

		changedProperty = DataType

		annotation SummarizationSetBy = Automatic

		annotation UnderlyingDateTimeDataType = Date

	/// ownerid
	column ownerid
		dataType: string
		sourceProviderType: uniqueidentifier
		isHidden
		lineageTag: 49a45149-0cb2-4055-b5ce-6c1208bed9de
		summarizeBy: none
		sourceColumn: ownerid

		annotation SummarizationSetBy = Automatic

	/// owneridname
	column Owner
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: a375f24d-31cb-4a3b-b70b-f6bfdd29c796
		summarizeBy: none
		sourceColumn: owneridname

		annotation SummarizationSetBy = Automatic

	/// cai_allocationperiodid
	column cai_allocationperiodid
		dataType: string
		sourceProviderType: uniqueidentifier
		isHidden
		lineageTag: 7659317f-4f86-4ae8-9e14-616c850d88f0
		summarizeBy: none
		sourceColumn: cai_allocationperiodid

		annotation SummarizationSetBy = Automatic

	/// cai_allocationperiodidname
	column Period
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 7247e213-cbef-482e-b5b2-d742af96287d
		summarizeBy: none
		sourceColumn: cai_allocationperiodidname

		annotation SummarizationSetBy = Automatic

	/// tov2_positionid
	column tov2_positionid
		dataType: string
		sourceProviderType: uniqueidentifier
		isHidden
		lineageTag: efb8f2f6-fc5c-4d89-b937-9bf2d124a53b
		summarizeBy: none
		sourceColumn: tov2_positionid

		annotation SummarizationSetBy = Automatic

	/// tov2_positionidname
	column Position
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: efa24f9b-29f2-44f6-a147-eae9e9b49b13
		summarizeBy: none
		sourceColumn: tov2_positionidname

		annotation SummarizationSetBy = Automatic

	/// cai_position_management_status
	column 'Position Management Status'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 730cb079-22bf-49d4-aaef-f9e2c523819c
		summarizeBy: none
		sourceColumn: cai_position_management_status

		annotation SummarizationSetBy = Automatic

	/// cai_positionstatus
	column 'Position Status'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: bc4441a4-5013-4555-b529-8c7ca695f9e0
		summarizeBy: none
		sourceColumn: cai_positionstatus

		annotation SummarizationSetBy = Automatic

	/// cai_position_subtype
	column 'Position Subtype'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 0d74b109-8f21-446f-bdf3-1d6cae996ab3
		summarizeBy: none
		sourceColumn: cai_position_subtype

		annotation SummarizationSetBy = Automatic

	/// cai_position_type
	column 'Position Type'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 7fb3ced5-40b3-47bb-b42f-b6dba6c6bd55
		summarizeBy: none
		sourceColumn: cai_position_type

		annotation SummarizationSetBy = Automatic

	/// cai_reports_to_manager
	column 'Reports To Manager'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 6aa4ecfe-5fdc-4216-91a1-3d073e14b761
		summarizeBy: none
		sourceColumn: cai_reports_to_manager

		annotation SummarizationSetBy = Automatic

	/// cai_resourceid
	column cai_resourceid
		dataType: string
		sourceProviderType: uniqueidentifier
		isHidden
		lineageTag: d050cdba-712e-4953-a1d4-a3d2a5501194
		summarizeBy: none
		sourceColumn: cai_resourceid

		annotation SummarizationSetBy = Automatic

	/// cai_resourceidname
	column Resource
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: af586f97-b605-4057-83ec-0a1f4fea1fcd
		summarizeBy: none
		sourceColumn: cai_resourceidname

		annotation SummarizationSetBy = Automatic

	/// cai_sec_functional_area
	column 'SEC Func Area'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: d0f970a5-9abb-41c2-aca6-34910b43d6dc
		summarizeBy: none
		sourceColumn: cai_sec_functional_area

		annotation SummarizationSetBy = Automatic

	/// cai_serviceorinitiativeid
	column cai_serviceorinitiativeid
		dataType: string
		sourceProviderType: uniqueidentifier
		isHidden
		lineageTag: cca27094-3cdd-4e31-a421-c3e501033e7d
		summarizeBy: none
		sourceColumn: cai_serviceorinitiativeid

		annotation SummarizationSetBy = Automatic

	/// cai_serviceorinitiativeidname
	column 'Service or Initiative'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: fff30136-3710-40f9-b3cb-1c64087f9251
		summarizeBy: none
		sourceColumn: cai_serviceorinitiativeidname

		annotation SummarizationSetBy = Automatic

	/// cai_totalallocatedperuserperperiod
	column 'Total % Allocated for this user this Period'
		dataType: int64
		formatString: 0
		sourceProviderType: int
		lineageTag: 4261e262-09c7-4b0d-9e7f-45a483aaebb8
		summarizeBy: sum
		sourceColumn: cai_totalallocatedperuserperperiod

		annotation SummarizationSetBy = Automatic

	partition Allocation = m
		mode: directQuery
		source =
				let
				    Dataverse = CommonDataService.Database(DataverseURL,[CreateNavigationProperties=false]),
				    Source = Value.NativeQuery(Dataverse,"
				
				    -- View Filter: My Team - Allocations Pending Review
				
				    SELECT Base.cai_allocationpercentageotherareas
				        ,Base.cai_allocationpercentage
				        ,Base.cai_allocationid
				        ,Base.cai_name
				        ,Base.cai_costcenter
				        ,Base.cai_alias
				        ,Base.cai_employeename
				        ,Base.cai_level
				        ,Base.cai_level_1
				        ,Base.cai_level_2
				        ,Base.cai_level_3
				        ,Base.cai_level_4
				        ,Base.cai_level_5
				        ,Base.cai_level_6
				        ,Base.cai_level_7
				        ,Base.cai_level_8
				        ,Base.cai_level_9
				        ,Base.cai_manager_systemuserid
				        ,Base.cai_manager_systemuseridname
				        ,Base.cai_managerapprovalstatusname
				        ,Base.cai_managerreviewcompletedbyid
				        ,Base.cai_managerreviewcompletedbyidname
				        ,CAST(DATEADD(hour, -6, Base.cai_managerreviewdate) AS DATE) AS cai_managerreviewdate
				        ,Base.ownerid
				        ,Base.owneridname
				        ,Base.cai_allocationperiodid
				        ,Base.cai_allocationperiodidname
				        ,Base.tov2_positionid
				        ,Base.tov2_positionidname
				        ,Base.cai_position_management_status
				        ,Base.cai_positionstatus
				        ,Base.cai_position_subtype
				        ,Base.cai_position_type
				        ,Base.cai_reports_to_manager
				        ,Base.cai_resourceid
				        ,Base.cai_resourceidname
				        ,Base.cai_sec_functional_area
				        ,Base.cai_serviceorinitiativeid
				        ,Base.cai_serviceorinitiativeidname
				        ,Base.cai_totalallocatedperuserperperiod
				    FROM cai_Allocation as Base
				    WHERE (Base.statecode = 0 AND Base.cai_managerapprovalstatus = 100000000) AND (EXISTS (SELECT 1 FROM cai_resource AS aa WHERE aa.cai_resourceid = Base.cai_resourceid AND ((aa.cai_userid = CURRENT_USER OR aa.cai_manageruserid = CURRENT_USER))))
				
				    " ,null ,[EnableFolding=true])
				in
				    Source

	annotation PBI_NavigationStepName = Navigation

	annotation PBI_ResultType = Table

