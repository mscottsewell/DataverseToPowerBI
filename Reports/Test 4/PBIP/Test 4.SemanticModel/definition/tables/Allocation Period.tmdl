/// Source: cai_allocationperiod
table 'Allocation Period'
	lineageTag: 3ebee46a-47cd-4b1d-af03-c1e4abe7e7c5

	/// cai_allocationperiodid
	column cai_allocationperiodid
		dataType: string
		sourceProviderType: uniqueidentifier
		isHidden
		isKey
		lineageTag: 27b97083-c766-4591-b4a9-2b2cdb26d0f4
		summarizeBy: none
		sourceColumn: cai_allocationperiodid

		annotation SummarizationSetBy = Automatic

	/// cai_allocationperiod_end
	column 'Allocation Period End'
		dataType: dateTime
		formatString: Short Date
		sourceProviderType: datetime2
		lineageTag: 48b025a3-e32f-4336-8f0e-70aa53dc9634
		summarizeBy: none
		sourceColumn: cai_allocationperiod_end

		changedProperty = DataType

		annotation SummarizationSetBy = Automatic

		annotation UnderlyingDateTimeDataType = Date

	/// cai_allocationperiod_start
	column 'Allocation Period Start'
		dataType: dateTime
		formatString: Short Date
		sourceProviderType: datetime2
		lineageTag: 831fda1a-d56d-4d12-9a15-b76c1f0c2adb
		summarizeBy: none
		sourceColumn: cai_allocationperiod_start

		changedProperty = DataType

		annotation SummarizationSetBy = Automatic

		annotation UnderlyingDateTimeDataType = Date

	/// cai_fiscalyearname
	column 'Fiscal Year'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 77c3c8f5-f066-49ce-b819-e3fe20c889b3
		summarizeBy: none
		sourceColumn: cai_fiscalyearname

		annotation SummarizationSetBy = Automatic

	/// ownerid
	column ownerid
		dataType: string
		sourceProviderType: uniqueidentifier
		isHidden
		lineageTag: dbb6d4a2-2259-48db-8ff3-ae319c23b83f
		summarizeBy: none
		sourceColumn: ownerid

		annotation SummarizationSetBy = Automatic

	/// owneridname
	column Owner
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 7ce39ad1-9fa8-4e28-acac-d7168e55980b
		summarizeBy: none
		sourceColumn: owneridname

		annotation SummarizationSetBy = Automatic

	/// cai_periodname
	column 'Period Name'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: f6434903-248e-443a-8779-9effb2211246
		isDefaultLabel
		summarizeBy: none
		sourceColumn: cai_periodname

		annotation SummarizationSetBy = Automatic

	partition 'Allocation Period' = m
		mode: directQuery
		source =
				let
				    Dataverse = CommonDataService.Database(DataverseURL,[CreateNavigationProperties=false]),
				    Source = Value.NativeQuery(Dataverse,"
				
				    -- View Filter: Current + Last 3 Allocation Periods
				
				    SELECT Base.cai_allocationperiodid
				        ,CAST(DATEADD(hour, -6, Base.cai_allocationperiod_end) AS DATE) AS cai_allocationperiod_end
				        ,CAST(DATEADD(hour, -6, Base.cai_allocationperiod_start) AS DATE) AS cai_allocationperiod_start
				        ,Base.cai_fiscalyearname
				        ,Base.ownerid
				        ,Base.owneridname
				        ,Base.cai_periodname
				    FROM cai_AllocationPeriod as Base
				    WHERE (Base.statecode = 0 AND (DATEADD(hour, -6, Base.cai_allocationperiod_start) >= DATEADD(month, DATEDIFF(month, 0, DATEADD(hour, -6, GETUTCDATE())) - 4, 0) AND DATEADD(hour, -6, Base.cai_allocationperiod_start) < DATEADD(month, DATEDIFF(month, 0, DATEADD(hour, -6, GETUTCDATE())) + 1, 0)))
				
				    " ,null ,[EnableFolding=true])
				in
				    Source

	annotation PBI_NavigationStepName = Navigation

	annotation PBI_ResultType = Table

