/// Source: cai_allocation
table Allocation
	lineageTag: aa7f8a01-4d14-4152-96a4-29308db7f47c

	/// cai_allocationpercentageotherareas
	column '% Allocated - Other Areas'
		dataType: int64
		formatString: 0
		sourceProviderType: int
		lineageTag: f2c70a92-bc7c-47c9-9ba5-ad035985620c
		summarizeBy: sum
		sourceColumn: cai_allocationpercentageotherareas

		annotation SummarizationSetBy = Automatic

	/// cai_allocationpercentage
	column '% Allocation'
		dataType: int64
		formatString: 0
		sourceProviderType: int
		lineageTag: 0976cbd8-f249-4a4e-b4d4-88c671f3fdfa
		summarizeBy: sum
		sourceColumn: cai_allocationpercentage

		annotation SummarizationSetBy = Automatic

	/// cai_allocationid
	column cai_allocationid
		dataType: string
		isHidden
		isKey
		sourceProviderType: uniqueidentifier
		lineageTag: 6d343a78-27fe-4cce-a126-7347f7956e95
		summarizeBy: none
		sourceColumn: cai_allocationid

		annotation SummarizationSetBy = Automatic

	/// cai_name
	column 'Allocation Name'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: dac4930d-24d7-49b7-bf6a-f70c5c4e4347
		isDefaultLabel
		summarizeBy: none
		sourceColumn: cai_name

		annotation SummarizationSetBy = Automatic

	/// cai_costcenter
	column 'Cost Center'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 0b1dfaf8-fbb3-41f7-aa9c-977cf0953f0a
		summarizeBy: none
		sourceColumn: cai_costcenter

		annotation SummarizationSetBy = Automatic

	/// cai_alias
	column 'Employee Alias'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 1fdca60a-270e-4d27-9a4f-5eb13dc87065
		summarizeBy: none
		sourceColumn: cai_alias

		annotation SummarizationSetBy = Automatic

	/// cai_employeename
	column 'Employee Name'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 9d85eac9-1582-4d6c-aee0-afe1c0072ede
		summarizeBy: none
		sourceColumn: cai_employeename

		annotation SummarizationSetBy = Automatic

	/// cai_level
	column 'Hierarchy Level'
		dataType: int64
		formatString: 0
		sourceProviderType: int
		lineageTag: b4a96075-5de0-41b4-ad08-3c174dc24c87
		summarizeBy: sum
		sourceColumn: cai_level

		annotation SummarizationSetBy = Automatic

	/// cai_level_1
	column 'Hierarchy Level 1'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 1343eda4-f204-4ac9-849f-b6cbfb738c73
		summarizeBy: none
		sourceColumn: cai_level_1

		annotation SummarizationSetBy = Automatic

	/// cai_level_2
	column 'Hierarchy Level 2'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 665e09ea-c1f6-47e5-8417-45e1c6149d01
		summarizeBy: none
		sourceColumn: cai_level_2

		annotation SummarizationSetBy = Automatic

	/// cai_level_3
	column 'Hierarchy Level 3'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 4e9938db-cda2-4e42-b4f9-f4b7c373b50f
		summarizeBy: none
		sourceColumn: cai_level_3

		annotation SummarizationSetBy = Automatic

	/// cai_level_4
	column 'Hierarchy Level 4'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 8c48faa3-ad78-493e-a63b-3e69de3bb1f4
		summarizeBy: none
		sourceColumn: cai_level_4

		annotation SummarizationSetBy = Automatic

	/// cai_level_5
	column 'Hierarchy Level 5'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 0592306c-ea00-430c-9f50-f32b180ab9f2
		summarizeBy: none
		sourceColumn: cai_level_5

		annotation SummarizationSetBy = Automatic

	/// cai_level_6
	column 'Hierarchy Level 6'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: f81988cf-1c9e-40e2-8b89-f4948b0c195d
		summarizeBy: none
		sourceColumn: cai_level_6

		annotation SummarizationSetBy = Automatic

	/// cai_level_7
	column 'Hierarchy Level 7'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: bc77b654-cb5f-48f3-9249-9eafcc9d8282
		summarizeBy: none
		sourceColumn: cai_level_7

		annotation SummarizationSetBy = Automatic

	/// cai_level_8
	column 'Hierarchy Level 8'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: b91e7b13-cb9f-4a28-8e5b-e1382643227b
		summarizeBy: none
		sourceColumn: cai_level_8

		annotation SummarizationSetBy = Automatic

	/// cai_level_9
	column 'Hierarchy Level 9'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 8751edad-011a-465a-aab2-bfc05d3ccc1f
		summarizeBy: none
		sourceColumn: cai_level_9

		annotation SummarizationSetBy = Automatic

	/// cai_manager_systemuserid
	column cai_manager_systemuserid
		dataType: string
		isHidden
		sourceProviderType: uniqueidentifier
		lineageTag: 997bebbc-4496-4a47-8c95-ae944d1817ce
		summarizeBy: none
		sourceColumn: cai_manager_systemuserid

		annotation SummarizationSetBy = Automatic

	/// cai_manager_systemuseridname
	column Manager
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: cc6ff7c5-2832-4dda-98d9-770f7b34062b
		summarizeBy: none
		sourceColumn: cai_manager_systemuseridname

		annotation SummarizationSetBy = Automatic

	/// cai_managerapprovalstatusname
	column 'Manager Approval Status'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 804d5c47-b566-4115-a4da-c5c5077ca080
		summarizeBy: none
		sourceColumn: cai_managerapprovalstatusname

		annotation SummarizationSetBy = Automatic

	/// cai_managerreviewcompletedbyid
	column cai_managerreviewcompletedbyid
		dataType: string
		isHidden
		sourceProviderType: uniqueidentifier
		lineageTag: 01428f21-051d-4ecb-9a99-018b2bd1a737
		summarizeBy: none
		sourceColumn: cai_managerreviewcompletedbyid

		annotation SummarizationSetBy = Automatic

	/// cai_managerreviewcompletedbyidname
	column 'Manager Review Completed By'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 29202d68-6524-4ef7-8f68-dec216a5a3dd
		summarizeBy: none
		sourceColumn: cai_managerreviewcompletedbyidname

		annotation SummarizationSetBy = Automatic

	/// cai_managerreviewdate
	column 'Manager Review Date'
		dataType: dateTime
		formatString: Short Date
		sourceProviderType: datetime2
		lineageTag: 37cd3e00-07f6-4457-8af1-57da76ba0256
		summarizeBy: none
		sourceColumn: cai_managerreviewdate

		changedProperty = DataType

		annotation SummarizationSetBy = Automatic

		annotation UnderlyingDateTimeDataType = Date

	/// ownerid
	column ownerid
		dataType: string
		isHidden
		sourceProviderType: uniqueidentifier
		lineageTag: 116400aa-e637-41e9-b18f-d8eb15107dce
		summarizeBy: none
		sourceColumn: ownerid

		annotation SummarizationSetBy = Automatic

	/// owneridname
	column Owner
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 4ea495cb-1028-4b58-aca3-94e51a160f41
		summarizeBy: none
		sourceColumn: owneridname

		annotation SummarizationSetBy = Automatic

	/// cai_allocationperiodid
	column cai_allocationperiodid
		dataType: string
		isHidden
		sourceProviderType: uniqueidentifier
		lineageTag: 03a8f646-aef8-4db1-b7b8-76247777a853
		summarizeBy: none
		sourceColumn: cai_allocationperiodid

		annotation SummarizationSetBy = Automatic

	/// cai_allocationperiodidname
	column Period
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: a3e2f4df-2700-41ac-887b-5a7302e0793e
		summarizeBy: none
		sourceColumn: cai_allocationperiodidname

		annotation SummarizationSetBy = Automatic

	/// tov2_positionid
	column tov2_positionid
		dataType: string
		isHidden
		sourceProviderType: uniqueidentifier
		lineageTag: 6fd59e9d-58d8-435e-9fdd-de7dd7539498
		summarizeBy: none
		sourceColumn: tov2_positionid

		annotation SummarizationSetBy = Automatic

	/// tov2_positionidname
	column Position
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 7b86662d-8c7a-4cd0-9440-edd75e4c883b
		summarizeBy: none
		sourceColumn: tov2_positionidname

		annotation SummarizationSetBy = Automatic

	/// cai_position_management_status
	column 'Position Management Status'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: cb62b3c0-78a9-431f-98e6-4c07a3d1f99f
		summarizeBy: none
		sourceColumn: cai_position_management_status

		annotation SummarizationSetBy = Automatic

	/// cai_positionstatus
	column 'Position Status'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: d18fcfbc-f7e1-4c79-9388-69761a884b15
		summarizeBy: none
		sourceColumn: cai_positionstatus

		annotation SummarizationSetBy = Automatic

	/// cai_position_subtype
	column 'Position Subtype'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: c5b53fea-758b-4d5f-9255-86b34797b7a7
		summarizeBy: none
		sourceColumn: cai_position_subtype

		annotation SummarizationSetBy = Automatic

	/// cai_position_type
	column 'Position Type'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 5146bc94-d787-4718-afbc-97dac70e7df8
		summarizeBy: none
		sourceColumn: cai_position_type

		annotation SummarizationSetBy = Automatic

	/// cai_reports_to_manager
	column 'Reports To Manager'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 84566ab0-6256-4710-90fb-e37254e311bf
		summarizeBy: none
		sourceColumn: cai_reports_to_manager

		annotation SummarizationSetBy = Automatic

	/// cai_resourceid
	column cai_resourceid
		dataType: string
		isHidden
		sourceProviderType: uniqueidentifier
		lineageTag: e05a66f4-b8e6-4b4c-986c-a9faffbbcef0
		summarizeBy: none
		sourceColumn: cai_resourceid

		annotation SummarizationSetBy = Automatic

	/// cai_resourceidname
	column Resource
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: 8e79627b-0cf5-4855-a183-8c949ffdca83
		summarizeBy: none
		sourceColumn: cai_resourceidname

		annotation SummarizationSetBy = Automatic

	/// cai_sec_functional_area
	column 'SEC Func Area'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: e1cad5ed-0021-4b90-bde1-c7b50c828702
		summarizeBy: none
		sourceColumn: cai_sec_functional_area

		annotation SummarizationSetBy = Automatic

	/// cai_serviceorinitiativeid
	column cai_serviceorinitiativeid
		dataType: string
		isHidden
		sourceProviderType: uniqueidentifier
		lineageTag: 4fcbcdd5-acfc-4820-9ad6-ff3794f87e6b
		summarizeBy: none
		sourceColumn: cai_serviceorinitiativeid

		annotation SummarizationSetBy = Automatic

	/// cai_serviceorinitiativeidname
	column 'Service or Initiative'
		dataType: string
		sourceProviderType: nvarchar
		lineageTag: f671a6d5-ee24-4525-beed-7f5af1141aab
		summarizeBy: none
		sourceColumn: cai_serviceorinitiativeidname

		annotation SummarizationSetBy = Automatic

	/// cai_totalallocatedperuserperperiod
	column 'Total % Allocated for this user this Period'
		dataType: int64
		formatString: 0
		sourceProviderType: int
		lineageTag: 80dffdeb-c10d-4d5f-8e42-cd954ee4f529
		summarizeBy: sum
		sourceColumn: cai_totalallocatedperuserperperiod

		annotation SummarizationSetBy = Automatic

	partition Allocation = m
		mode: directQuery
		source =
				let
				    Dataverse = CommonDataService.Database(DataverseURL,[CreateNavigationProperties=false]),
				    Source = Value.NativeQuery(Dataverse,"
				
				    -- View Filter: My Team - Allocations Pending Review
				
				    SELECT Base.cai_allocationpercentageotherareas
				        ,Base.cai_allocationpercentage
				        ,Base.cai_allocationid
				        ,Base.cai_name
				        ,Base.cai_costcenter
				        ,Base.cai_alias
				        ,Base.cai_employeename
				        ,Base.cai_level
				        ,Base.cai_level_1
				        ,Base.cai_level_2
				        ,Base.cai_level_3
				        ,Base.cai_level_4
				        ,Base.cai_level_5
				        ,Base.cai_level_6
				        ,Base.cai_level_7
				        ,Base.cai_level_8
				        ,Base.cai_level_9
				        ,Base.cai_manager_systemuserid
				        ,Base.cai_manager_systemuseridname
				        ,Base.cai_managerapprovalstatusname
				        ,Base.cai_managerreviewcompletedbyid
				        ,Base.cai_managerreviewcompletedbyidname
				        ,CAST(DATEADD(hour, -6, Base.cai_managerreviewdate) AS DATE) AS cai_managerreviewdate
				        ,Base.ownerid
				        ,Base.owneridname
				        ,Base.cai_allocationperiodid
				        ,Base.cai_allocationperiodidname
				        ,Base.tov2_positionid
				        ,Base.tov2_positionidname
				        ,Base.cai_position_management_status
				        ,Base.cai_positionstatus
				        ,Base.cai_position_subtype
				        ,Base.cai_position_type
				        ,Base.cai_reports_to_manager
				        ,Base.cai_resourceid
				        ,Base.cai_resourceidname
				        ,Base.cai_sec_functional_area
				        ,Base.cai_serviceorinitiativeid
				        ,Base.cai_serviceorinitiativeidname
				        ,Base.cai_totalallocatedperuserperperiod
				    FROM cai_Allocation as Base
				    WHERE (Base.statecode = 0 AND Base.cai_managerapprovalstatus = 100000000) AND (EXISTS (SELECT 1 FROM cai_resource AS aa WHERE aa.cai_resourceid = Base.cai_resourceid AND ((aa.cai_userid = CURRENT_USER OR aa.cai_manageruserid = CURRENT_USER))))
				
				    " ,null ,[EnableFolding=true])
				in
				    Source

	annotation PBI_NavigationStepName = Navigation

	annotation PBI_ResultType = Table

